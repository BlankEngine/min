class Tile{spriteID=0;position=Vector2.zero}class Tilemap extends GameBehavior{sprites=[];tiles=[];texture=null;Start(){this.sprites=[...this.texture.sprites],this.sprites.shift();const e=this.GetComponentInParent("Grid");for(let t=0;t<this.tiles.length;t++)this.#e(t,this.tiles[t].spriteID,e.GetCellCenterWorld(this.tiles[t].position))}async#e(e,t,s){const i=new SpriteRenderer(this.sprites[t]),n=new Transform;n.position=s;let r=null;do{r=Math.floor(65*Math.random(),536)+Math.floor(65*Math.random(),536)}while(null!=GameObject.FindByID(r));const a=await SceneManager.CreateObject("GameObject",{name:`${this.name}_tile_${e}`,components:[i],transform:n,id:r,parent:this.transform}),o=i.bounds.min,l=i.bounds.max,h=Rect.MinMaxRect(o.x,o.y,l.x,l.y),m=this.gameObject.scene;m.tree.Insert(a,h),m.gameObjects.push(a)}}